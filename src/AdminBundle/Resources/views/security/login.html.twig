{% extends 'admin/base.html.twig' %}

{% block body %}

    <div  id="page-login-html" class="form-signin"></div>

{% endblock %}



{% block javascripts %}

    {{ parent() }}

    <script>

        var lbl = {
            _authorization: '{{ '_AUTHORIZATION'|trans({}, 'admin') }}',
            _username:      '{{ '_USERNAME'|trans({}, 'admin') }}',
            _password:      '{{ '_PASSWORD'|trans({}, 'admin') }}',
            _login:         '{{ '_LOGIN'|trans({}, 'admin') }}'
        };

        var error = '{% if error %} {{ error.messageKey|trans(error.messageData, 'security') }} {% endif %}';

        var APPEND_ELEMENT = '#page-login-html';

        new ui.Form('form-login', '{{ app.request.locale }}')
                .setUrlActionForm('{{ path('_security_login') }}')
                .setSkin('default')
                .setParentBlock(lbl._authorization, null, {_username: '{{ username }}'})
                .newLineParent()
                .addTextField('_username', lbl._username, true)
                .newLineParent()
                .addPasswordField('_password', lbl._password, true)
                .hideBtnReload(true)
                .hideBtnBack(true)
                .hideBtnSave(true)
                .hideBtnClear(true)
                .addButton(4, 'submit', '_login', 'log-in', lbl._login, null, 'default')
                .appendHTML(APPEND_ELEMENT);

        new ui.Error()
                .addError(null, error)
                .appendHTML('.row-fields');

    </script>

{% endblock %}